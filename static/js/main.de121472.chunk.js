(this["webpackJsonpguitar-exercise-generator"]=this["webpackJsonpguitar-exercise-generator"]||[]).push([[0],{25:function(t,e,n){},26:function(t,e,n){},33:function(t,e,n){"use strict";n.r(e);var i=n(3),a=n.n(i),o=n(14),r=n.n(o),c=(n(25),n(2)),s=n(5),l=n(15),u=n(16),p=n(19),f=n(18),h=(n(26),n(6)),d=new Map([["pentatonic C type",{name:"Pentatonic scale C type",rootNotePositions:["A#","B","C","C#","D","D#","E","F","F#","G","G#","A"],positions:[[6,1],[6,3],[5,1],[5,3],[4,0],[4,2],[3,0],[3,2],[2,1],[2,3],[1,0],[1,3]]}],["pentatonic A type",{name:"Pentatonic scale A type",rootNotePositions:["A#","B","C","C#","D","D#","E","F","F#","G","G#","A"],positions:[[6,1],[6,3],[5,1],[5,3],[4,0],[4,3],[3,0],[3,3],[2,1],[2,3],[1,1],[1,3]]}],["pentatonic G type",{name:"Pentatonic scale G type",rootNotePositions:["G","G#","A","A#","B","C","C#","D","D#","E","F","F#"],positions:[[6,0],[6,3],[5,0],[5,2],[4,0],[4,2],[3,0],[3,2],[2,0],[2,3],[1,0],[1,3]]}],["pentatonic E type",{name:"Pentatonic scale E type",rootNotePositions:["F","F#","G","G#","A","A#","B","C","C#","D","D#","E"],positions:[[6,1],[6,3],[5,0],[5,3],[4,0],[4,3],[3,0],[3,2],[2,1],[2,3],[1,1],[1,3]]}],["pentatonic D type",{name:"Pentatonic scale D type",rootNotePositions:["A","A#","B","C","C#","D","D#","E","F","F#","G","G#"],positions:[[6,1],[6,3],[5,1],[5,3],[4,1],[4,3],[3,0],[3,3],[2,1],[2,4],[1,1],[1,3]]}],["pentatonic all",{name:"Pentatonic scale all",rootNotePositions:["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],positions:[[6,0],[6,3],[5,0],[5,3],[4,0],[4,2],[3,0],[3,2],[2,1],[2,3],[1,0],[1,3],[6,3],[6,5],[5,3],[5,5],[4,2],[4,5],[3,2],[3,5],[2,3],[2,5],[1,3],[1,5],[6,5],[6,8],[5,5],[5,7],[4,5],[4,7],[3,5],[3,7],[2,5],[2,8],[1,5],[1,8],[6,8],[6,10],[5,7],[5,10],[4,7],[4,9],[3,7],[3,9],[2,8],[2,10],[1,8],[1,10],[6,10],[6,12],[5,10],[5,12],[4,10],[4,12],[3,9],[3,12],[2,10],[2,13],[1,10],[1,12],[6,12],[6,15],[5,12],[5,15],[4,12],[4,14],[3,12],[3,14],[2,13],[2,15],[1,12],[1,15]]}],["haptatonic C type",{name:"Heptatonic scale C type",rootNotePositions:["A#","B","C","C#","D","D#","E","F","F#","G","G#","A"],positions:[[6,1],[6,3],[5,1],[5,3],[4,0],[4,2],[3,0],[3,2],[2,1],[2,3],[1,0],[1,3]]}],["rows of 4, left-right",{name:"Rows left-right",rootNotePositions:["E","F","F#","G","G#","A","A#","B","C","C#","D","D#"],positions:Array.from({length:6}).flatMap((function(t,e){return Array.from({length:4}).map((function(t,n){return[6-e,n]}))}))}],["rows of 4, right-left",{name:"Rows right-left",rootNotePositions:["E","F","F#","G","G#","A","A#","B","C","C#","D","D#"],positions:Array.from({length:6}).flatMap((function(t,e){return Array.from({length:4}).map((function(t,n){return[6-e,3-n]}))}))}],["rows of 4, left-right and right-left",{name:"Rows left-right and right-left",rootNotePositions:["E","F","F#","G","G#","A","A#","B","C","C#","D","D#"],positions:Array.from({length:6}).flatMap((function(t,e){return Array.from({length:4}).map((function(t,n){return[6-e,e%2===0?n:3-n]}))}))}]]),m=n(8);function b(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"A",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=d.get(t),o=a.rootNotePositions.indexOf(e),r=a.positions.map((function(t){var e=Object(c.a)(t,2);return[e[0],e[1]+o]}));if(1===n)return r;var s=r;if(n>1)for(var l=Object(h.a)(r).reverse(),u=1;u<n;u++)s=[].concat(Object(h.a)(s),i&&u%2===1?Object(h.a)(l):Object(h.a)(r));return console.log(a),s}var g=n(11),j=n(17),v=n(12),O=n(0),y=function(t){Object(p.a)(n,t);var e=Object(f.a)(n);function n(t){var i;return Object(l.a)(this,n),(i=e.call(this,t)).download=function(){var t=i.state,e=t.type,n=t.rootNote,a=t.tempo,o=t.timeSig,r=b(e,n,t.repeat,t.alternate),l="[Guitar Exercise] ".concat(n," ").concat(e," ").concat(a," bpm"),u=function(t,e,n,i){var a,o=(n=n.split("/").map((function(t){return+t})))[0],r=1,l=1,u="",p=Object(s.a)(i);try{for(p.s();!(a=p.n()).done;){var f=Object(c.a)(a.value,2),h=f[0],d=f[1];l>o&&(r++,l=1,u="".concat(u,'\n            </measure>\n            <measure number="').concat(r,'">')),l++;var b=m.Guitar.stringedTunings.get("Guitar").get(6)[0],g=m.Guitar.getNoteInfoFromFretboardPos(h,d,b);u="".concat(u,"\n            <note>\n                <pitch>\n                    <step>").concat(g.name,"</step>\n                    <octave>").concat(g.octave,"</octave>\n                </pitch>\n                <notations>\n                    <technical>\n                        <fret>").concat(d,"</fret>\n                        <string>").concat(h,"</string>\n                    </technical>\n                </notations>\n                <voice>1</voice>\n                <duration>960</duration>\n                <type>quarter</type>\n            </note>")}}catch(j){p.e(j)}finally{p.f()}return'<?xml version="1.0" encoding="UTF-8" standalone="no" ?>\n<score-partwise>\n    <work>\n        <work-title />\n    </work>\n    <identification>\n        <encoding>\n            <software>https://github.com/fheyen/guitar-exercise-generator</software>\n        </encoding>\n    </identification>\n    <part-list>\n        <score-part id="P1">\n            <part-name>'.concat(t,'</part-name>\n            <score-instrument id="P1-I1">\n                <instrument-name>Steel String Guitar 1</instrument-name>\n            </score-instrument>\n            <midi-instrument id="P1-I1">\n                <midi-channel>1</midi-channel>\n                <midi-program>26</midi-program>\n            </midi-instrument>\n        </score-part>\n    </part-list>\n    <part id="P1">\n        <measure number="1">\n            <attributes>\n                <divisions>960</divisions>\n                <key>\n                    <fifths>0</fifths>\n                    <mode>major</mode>\n                </key>\n                <clef>\n                    <sign>G</sign>\n                    <line>2</line>\n                </clef>\n                <time>\n                    <beats>').concat(n[0],"</beats>\n                    <beat-type>").concat(n[1],'</beat-type>\n                </time>\n                <staff-details>\n                    <staff-lines>6</staff-lines>\n                    <staff-tuning line="1">\n                        <tuning-step>E</tuning-step>\n                        <tuning-octave>3</tuning-octave>\n                    </staff-tuning>\n                    <staff-tuning line="2">\n                        <tuning-step>A</tuning-step>\n                        <tuning-octave>3</tuning-octave>\n                    </staff-tuning>\n                    <staff-tuning line="3">\n                        <tuning-step>D</tuning-step>\n                        <tuning-octave>4</tuning-octave>\n                    </staff-tuning>\n                    <staff-tuning line="4">\n                        <tuning-step>G</tuning-step>\n                        <tuning-octave>4</tuning-octave>\n                    </staff-tuning>\n                    <staff-tuning line="5">\n                        <tuning-step>B</tuning-step>\n                        <tuning-octave>4</tuning-octave>\n                    </staff-tuning>\n                    <staff-tuning line="6">\n                        <tuning-step>E</tuning-step>\n                        <tuning-octave>5</tuning-octave>\n                    </staff-tuning>\n                </staff-details>\n            </attributes>\n            <direction placement="above">\n                <sound tempo="').concat(e,'" />\n            </direction>\n           ').concat(u,"\n        </measure>\n    </part>\n</score-partwise>\n")}(l,a,o,r),p="".concat(l,".musicxml"),f=document.createElement("a");f.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(u)),f.setAttribute("download",p),f.style.display="none",document.body.appendChild(f),f.click(),document.body.removeChild(f)},i.state={type:"pentatonic G type",rootNote:"C",tempo:120,timeSig:"4/4",repeat:4,alternate:!0,textTab:"",fretboard:[[]],pattern:[],currentAnimationPosition:null},i}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.renderPreview()}},{key:"componentDidUpdate",value:function(t,e){e.type===this.state.type&&e.rootNote===this.state.rootNote&&e.tempo===this.state.tempo&&e.timeSig===this.state.timeSig&&e.repeat===this.state.repeat&&e.alternate===this.state.alternate||this.renderPreview()}},{key:"renderPreview",value:function(){var t=this.state,e=t.type,n=t.rootNote,i=t.tempo,a=t.timeSig,o=b(e,n,t.repeat,t.alternate),r=[];r.push(["e -","B -","G -","D -","A -","E -"]);var l,u=Object(s.a)(o);try{for(u.s();!(l=u.n()).done;){for(var p=l.value,f=Object(c.a)(p,2),h=f[0],d=f[1],m=Array.from({length:6}),g=1;g<=6;g++)m[g-1]=g===h?"".concat(d,"-"):d>9?"---":"--";r.push(m)}}catch(k){u.e(k)}finally{u.f()}for(var j="tempo = ".concat(i," bpm\n"),v=+a.split("/")[0],O=0;O<6;O++){for(var y=0,x=0;x<r.length;x++)j="".concat(j).concat(r[x][O]),y===v&&x<r.length-1&&(y=0,j="".concat(j,"|-")),y++;j="".concat(j,"\n")}var A,C=b(e,n),G=Array.from({length:6}).map((function(){return Array.from({length:25})})),P=Object(s.a)(C.entries());try{for(P.s();!(A=P.n()).done;){var D=Object(c.a)(A.value,2),w=D[0],F=D[1],E=Object(c.a)(F,2),N=E[0],S=E[1];G[N-1][S]=w+1}}catch(k){P.e(k)}finally{P.f()}this.setState({textTab:j,pattern:C,fretboard:G})}},{key:"animate",value:function(t){var e=this,n=this.state,i=n.pattern,a=n.tempo;if(t>i.length-1)this.setState({currentAnimationPosition:null});else{var o=Object(c.a)(i[t],2),r=o[0],s=o[1];this.setState({currentAnimationPosition:[r,s]});var l=1e3*m.Utils.bpmToSecondsPerBeat(a);window.setTimeout((function(){return e.animate(t+1)}),l)}}},{key:"render",value:function(){var t,e=this,n=this.state,i=n.currentAnimationPosition,a=n.fretboard,o=[],r=Object(s.a)(d);try{for(r.s();!(t=r.n()).done;){var l=Object(c.a)(t.value,2),u=l[0],p=l[1];o.push(Object(O.jsx)("option",{value:u,children:p.name},u))}}catch(A){r.e(A)}finally{r.f()}var f=["e","B","G","D","A","E"],h=null!==i&&void 0!==i?i:[-1,-1],m=Object(c.a)(h,2),b=m[0],y=m[1],x=a.map((function(t,e){return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:f[e]},"note"),t.map((function(t,n){var i="";return e+1===b&&n==y&&(i="highlight"),Object(O.jsx)("td",{className:i,children:t},"".concat(e," ").concat(n," ").concat(t))}))]})}));return Object(O.jsxs)("div",{className:"App",children:[Object(O.jsx)("h1",{children:"Guitar Exercise Generator"}),Object(O.jsx)("h2",{children:"Options"}),Object(O.jsxs)("div",{children:[Object(O.jsxs)("label",{children:["Type",Object(O.jsx)("select",{onChange:function(t){return e.setState({type:t.target.value})},children:o})]}),Object(O.jsxs)("label",{children:["Root note",Object(O.jsx)("select",{onChange:function(t){return e.setState({rootNote:t.target.value})},children:["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"].map((function(t){return Object(O.jsx)("option",{value:t,children:t},t)}))})]}),Object(O.jsxs)("label",{children:["Tempo (bpm)",Object(O.jsx)("input",{type:"number",min:"30",max:"200",step:"5",defaultValue:"120",onInput:function(t){return e.setState({tempo:+t.target.value})}})]}),Object(O.jsxs)("label",{children:["Time signature",Object(O.jsx)("select",{onChange:function(t){return e.setState({timeSig:t.target.value})},children:["4/4","3/4","2/4"].map((function(t){return Object(O.jsx)("option",{value:t,children:t},t)}))})]}),Object(O.jsxs)("label",{children:["Repeat",Object(O.jsx)("input",{type:"number",min:"1",max:"20",step:"1",defaultValue:"4",onInput:function(t){return e.setState({repeat:+t.target.value})}})]}),Object(O.jsx)("label",{children:Object(O.jsxs)("button",{onClick:function(){return e.setState({alternate:!e.state.alternate})},children:["Alternate ",Object(O.jsx)(g.a,{icon:this.state.alternate?v.b:v.a})]})})]}),Object(O.jsx)("h2",{children:"Output"}),Object(O.jsx)("div",{children:Object(O.jsx)("button",{onClick:this.download,children:"Download MusicXML"})}),Object(O.jsxs)("div",{children:[Object(O.jsx)("h3",{children:"Tab Preview"}),Object(O.jsx)("textarea",{value:this.state.textTab,readOnly:!0}),Object(O.jsx)("h3",{children:"Fretboard Preview"}),Object(O.jsx)("table",{children:Object(O.jsxs)("tbody",{children:[x,Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{}),Array.from({length:25}).map((function(t,e){return Object(O.jsx)("td",{children:e})}))]})]})}),Object(O.jsx)("button",{onClick:function(){return e.animate(0)},disabled:null!==i,title:"Play the pattern on the fretboard at the set tempo",children:"Animate"})]}),Object(O.jsx)("div",{className:"githubLink",children:Object(O.jsxs)("a",{href:"https://github.com/fheyen/guitar-exercise-generator",children:[Object(O.jsx)(g.a,{icon:j.a}),"\xa0 https://github.com/fheyen/guitar-exercise-generator"]})})]})}}]),n}(i.PureComponent);r.a.render(Object(O.jsx)(a.a.StrictMode,{children:Object(O.jsx)(y,{})}),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.de121472.chunk.js.map